<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>辣不死的堡 | 作品集</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Font Awesome -->
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <!-- GSAP for animations -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#333333',
            secondary: '#666666',
            accent: '#999999',
            light: '#f5f5f5',
            dark: '#1a1a1a'
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
          height: {
            '128': '32rem',
            '144': '36rem',
          },
          animation: {
            'fade-in': 'fadeIn 0.5s ease-in-out',
            'slide-up': 'slideUp 0.5s ease-in-out',
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' },
            },
            slideUp: {
              '0%': { transform: 'translateY(20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' },
            }
          }
        }
      }
    }
  </script>
  <style type="text/tailwindcss">
    @layer utilities {
      .text-shadow {
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .text-shadow-lg {
        text-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }
      .backdrop-blur-sm {
        backdrop-filter: blur(4px);
      }
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }
      .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      .transition-transform {
        transition-property: transform;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 300ms;
      }
      .hover-scale:hover {
        transform: scale(1.02);
      }
      .glass-effect {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
    }
  </style>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    
    html {
      scroll-behavior: smooth;
    }
    
    /* 深色模式样式 */
    .dark {
      --tw-text-opacity: 1;
      --tw-bg-opacity: 1;
    }
    
    .dark body {
      background-color: #1a1a1a;
      color: #f5f5f5;
    }
    
    .dark .bg-white {
      background-color: #1a1a1a;
      color: #f5f5f5;
    }
    
    .dark .bg-light {
      background-color: #2a2a2a;
      color: #f5f5f5;
    }
    
    .dark .text-secondary {
      color: #bbbbbb;
    }
    
    .dark .text-primary {
      color: #f5f5f5;
    }
    
    .dark .border {
      border-color: #444444;
    }
    
    .dark .category-btn {
      color: #bbbbbb;
    }
    
    .dark .category-btn.active {
      color: #f5f5f5;
      border-color: #f5f5f5;
    }
    
    .dark .category-btn:hover {
      color: #f5f5f5;
      border-color: #f5f5f5;
    }
    
    .dark .modal {
      background-color: rgba(0, 0, 0, 0.9);
    }
    
    .dark .modal-info {
      color: #f5f5f5;
    }
    
    .dark .mobile-menu {
      background-color: #1a1a1a;
    }
    
    .dark .mobile-nav-link {
      color: #f5f5f5;
      border-color: #444444;
    }
    
    .dark .mobile-nav-link:hover {
      color: #ffffff;
      border-color: #ffffff;
    }
    
    /* 加载动画样式 */
    #loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #ffffff;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease-out;
    }
    
    .dark #loading-screen {
      background-color: #1a1a1a;
    }
    
    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 6px solid rgba(0, 0, 0, 0.1);
      border-top: 6px solid #333333;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    .dark .loading-spinner {
      border: 6px solid rgba(255, 255, 255, 0.1);
      border-top: 6px solid #f5f5f5;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .loading-text {
      margin-top: 20px;
      font-size: 18px;
      color: #333333;
    }
    
    .dark .loading-text {
      color: #f5f5f5;
    }
    
    /* 主内容区域初始隐藏 */
    #main-content {
      display: none;
    }
    
    body {
      font-family: 'Inter', sans-serif;
      overflow-x: hidden;
    }
    

    
    .carousel-item {
      opacity: 0;
      transition: opacity 1s ease-in-out;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
    }
    
    .carousel-item.active {
      opacity: 1;
      z-index: 1;
    }
    
    .carousel-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    /* 滚动图底部渐变效果 */
    .carousel-container::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 200px;
      background: linear-gradient(to bottom, transparent, #f8f8f8);
      z-index: 10;
      pointer-events: none;
    }
    
    /* 深色模式下的渐变效果 */
    .dark .carousel-container::after {
      background: linear-gradient(to bottom, transparent, #2a2a2a);
    }
    
    .gallery-item {
      overflow: hidden;
      position: relative;
      cursor: pointer;
    }
    
    .gallery-item img {
        transition: transform 0.5s ease, opacity 0.5s ease;
        will-change: transform, opacity;
      }
      
      .gallery-item img[data-src] {
        opacity: 0;
      }
      
      .gallery-item img.loaded {
        opacity: 1;
      }
    
    .gallery-item:hover img {
      transform: scale(1.05);
    }
    
    .gallery-item::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to bottom, 
        rgba(0,0,0,0) 40%, 
        rgba(0,0,0,0.2) 60%, 
        rgba(0,0,0,0.5) 80%, 
        rgba(0,0,0,0.8) 100%);
      opacity: 0.9;
      transition: opacity 0.3s ease;
    }
    
    .gallery-item:hover::after {
      opacity: 0.9;
    }
    
    .gallery-item .item-info {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      padding: 1.5rem;
      z-index: 1;
      transform: translateY(20px);
      opacity: 0.9;
      transition: all 0.3s ease;
    }
    
    .gallery-item:hover .item-info {
      transform: translateY(0);
      opacity: 1;
    }
    
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      z-index: 100;
      overflow-y: auto;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .modal.show {
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 1;
    }
    
    /* 山脉全景图的特殊上下布局 */
    .modal.show.mountain-panorama {
      display: block;
    }
    
    .modal.show.mountain-panorama .modal-content {
      margin: 50px auto 30px;
      max-width: 95%;
      max-height: 70vh;
    }
    
    .modal.show.mountain-panorama .modal-info {
      padding: 30px 20px;
      max-width: 1000px;
      margin: 0 auto 50px;
      background-color: rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(10px);
      border-radius: 8px;
    }
    
    /* 意游图片的左右顺序调换布局 */
    .modal.show.reverse-layout {
      flex-direction: row-reverse;
    }
    
    /* 手机屏幕响应式布局 - 上下排版 */
    @media (max-width: 768px) {
      .modal.show {
        display: block;
      }
      
      .modal.show .modal-content {
        margin: 50px auto 20px;
        max-width: 95%;
        max-height: 60vh;
      }
      
      .modal.show .modal-info {
        padding: 20px;
        max-width: 90%;
        margin: 0 auto 30px;
        text-align: center;
      }
      
      /* 重置反向布局在手机上的效果 */
      .modal.show.reverse-layout {
        flex-direction: row;
      }
    }
    
    .modal-content {
      margin: auto;
      display: block;
      max-width: 90%;
      max-height: 90%;
      animation: zoom 0.6s;
    }
    
    @keyframes zoom {
      from {transform: scale(0)}
      to {transform: scale(1)}
    }
    
    .modal.fade-out {
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .close {
      position: absolute;
      top: 20px;
      right: 30px;
      font-size: 30px;
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .close:hover {
      color: #bbb;
      transform: scale(1.2);
    }
    
    .modal-info {
      color: white;
      text-align: center;
      padding: 20px;
      max-width: 800px;
      margin: 0 auto;
    }
    
    .category-btn {
      position: relative;
      transition: all 0.3s ease;
    }
    
    .category-btn::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 0;
      height: 2px;
      background-color: #333;
      transition: width 0.3s ease;
    }
    
    .category-btn:hover::after,
    .category-btn.active::after {
      width: 100%;
    }
    
    .custom-cursor {
      position: fixed;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border: 1px solid #333;
      pointer-events: none;
      z-index: 1000;
      mix-blend-mode: difference;
      transform: translate(-50%, -50%);
      transition: all 0.1s ease;
    }
    
    .custom-cursor.hover {
      width: 40px;
      height: 40px;
      background-color: rgba(0, 0, 0, 0.1);
    }
    
    .loader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }
    
    .loader.hidden {
      opacity: 0;
      pointer-events: none;
    }
    
    .loader-circle {
      width: 50px;
      height: 50px;
      border: 3px solid #f3f3f3;
      border-top: 3px solid #333;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(0deg); }
    }
    
    .nav-link {
      position: relative;
      transition: all 0.3s ease;
    }
    
    .nav-link::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 0;
      height: 2px;
      background-color: white;
      transition: width 0.3s ease;
    }
    
    .nav-link:hover::after {
      width: 100%;
    }
    
    /* Mobile menu */
    .mobile-menu {
      position: fixed;
      top: 0;
      right: -100%;
      width: 80%;
      height: 100%;
      background-color: white;
      z-index: 999;
      padding: 2rem;
      transition: right 0.3s ease;
      box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
    }
    
    .mobile-menu.active {
      right: 0;
    }
    
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 998;
      display: none;
    }
    
    .overlay.active {
      display: block;
    }
    
    .mobile-nav-link {
      display: block;
      padding: 1rem 0;
      border-bottom: 1px solid #eee;
      transition: all 0.3s ease;
    }
    
    .mobile-nav-link:hover {
      padding-left: 0.5rem;
    }
  </style>
</head>
<body>
    <!-- 加载动画容器 -->
    <div id="loading-screen">
      <div class="loading-spinner"></div>
      <div class="loading-text">加载中...</div>
    </div>
    
    <!-- 主内容区域 -->
    <div id="main-content">
  <!-- Loader -->
  <div class="loader">
    <div class="loader-circle"></div>
  </div>

  <!-- Custom Cursor -->
  <div class="custom-cursor"></div>

  <!-- Header/Navigation -->
  <header class="fixed top-0 left-0 w-full z-50 transition-all duration-300" id="header">
    <div class="container mx-auto px-4 py-4 flex justify-between items-center">
      <a href="#" class="flex items-center text-white text-shadow-lg" id="site-title">
        <img src="img/logo/logo_w.png" alt="Logo" class="h-8 transition-opacity duration-300" id="site-logo" data-dark-src="img/logo/logo_w.png" data-light-src="img/logo/logo_b.png">
      </a>
      
      <!-- Desktop Navigation -->
      <nav class="hidden md:flex items-center space-x-8">
        <a href="#home" class="nav-link text-white text-shadow">首页</a>
        <a href="#gallery" class="nav-link text-white text-shadow">作品</a>
        <a href="#about" class="nav-link text-white text-shadow">关于</a>
      </nav>
      
      <!-- Theme Toggle Button -->
      <button class="md:block text-white text-2xl mr-4" id="theme-toggle">
        <i class="fa fa-moon-o"></i>
      </button>
      
      <!-- Mobile Menu Button -->
      <button class="md:hidden text-white text-2xl" id="menu-btn">
        <i class="fa fa-bars"></i>
      </button>
    </div>
  </header>

  <!-- Mobile Menu -->
  <div class="mobile-menu">
    <div class="flex justify-between items-center mb-8">
      <h2 class="text-2xl font-light">菜单</h2>
      <button class="text-2xl" id="close-menu">
        <i class="fa fa-times"></i>
      </button>
    </div>
    
    <div class="flex flex-col space-y-4">
      <a href="#home" class="mobile-nav-link">首页</a>
      <a href="#gallery" class="mobile-nav-link">作品</a>
      <a href="#about" class="mobile-nav-link">关于</a>
      
      <div class="pt-4 mt-4 border-t border-gray-200">
        <button class="flex items-center space-x-2" id="mobile-theme-toggle">
          <i class="fa fa-moon-o"></i>
          <span>切换主题</span>
        </button>
      </div>
    </div>
  </div>
  
  <!-- Overlay -->
  <div id="overlay" class="overlay"></div>

  <!-- Hero Section with Carousel -->
  <section id="home" class="relative h-screen">
    <div class="carousel-container h-full">
      <!-- Carousel Items -->
      <div class="carousel-item active">
        <img src="img/山_01.jpg" alt="山脉风光">
        <div class="absolute inset-0 flex items-center justify-center">
          <div class="text-center text-white px-4">
            <h1 class="text-4xl md:text-6xl font-light mb-4 text-shadow-lg">群山之脊</h1>
            <p class="text-lg md:text-xl font-light mb-8 max-w-2xl mx-auto text-shadow">捕捉大自然的多样，呈现雄伟多元的视觉体验</p>
            <a href="#gallery" class="inline-block px-8 py-3 border border-white text-white hover:bg-white hover:text-primary transition-all duration-300 rounded-sm">浏览作品</a>
          </div>
        </div>
      </div>
      
      <div class="carousel-item">
        <img src="img/海_01.jpg" alt="海洋风光">
        <div class="absolute inset-0 flex items-center justify-center">
          <div class="text-center text-white px-4">
            <h1 class="text-4xl md:text-6xl font-light mb-4 text-shadow-lg">蔚蓝海岸</h1>
            <p class="text-lg md:text-xl font-light mb-8 max-w-2xl mx-auto text-shadow">探索海洋的浩瀚与神秘，感受大自然的鬼斧神工</p>
            <a href="#gallery" class="inline-block px-8 py-3 border border-white text-white hover:bg-white hover:text-primary transition-all duration-300 rounded-sm">浏览作品</a>
          </div>
        </div>
      </div>
      
      <div class="carousel-item">
        <img src="img/城市_01.jpg" alt="城市风光">
        <div class="absolute inset-0 flex items-center justify-center">
          <div class="text-center text-white px-4">
            <h1 class="text-4xl md:text-6xl font-light mb-4 text-shadow-lg">城市之美</h1>
            <p class="text-lg md:text-xl font-light mb-8 max-w-2xl mx-auto text-shadow">现代都市的繁华与活力，建筑与人文的交融</p>
            <a href="#gallery" class="inline-block px-8 py-3 border border-white text-white hover:bg-white hover:text-primary transition-all duration-300 rounded-sm">浏览作品</a>
          </div>
        </div>
      </div>
      
      <div class="carousel-item">
        <img src="img/人文_01.jpg" alt="人文风光">
        <div class="absolute inset-0 flex items-center justify-center">
          <div class="text-center text-white px-4">
            <h1 class="text-4xl md:text-6xl font-light mb-4 text-shadow-lg">人文纪实</h1>
            <p class="text-lg md:text-xl font-light mb-8 max-w-2xl mx-auto text-shadow">记录生活中的温暖瞬间，展现人文情怀</p>
            <a href="#gallery" class="inline-block px-8 py-3 border border-white text-white hover:bg-white hover:text-primary transition-all duration-300 rounded-sm">浏览作品</a>
          </div>
        </div>
      </div>
      
      <div class="carousel-item">
        <img src="img/抽象_01.JPG" alt="抽象摄影">
        <div class="absolute inset-0 flex items-center justify-center">
          <div class="text-center text-white px-4">
            <h1 class="text-4xl md:text-6xl font-light mb-4 text-shadow-lg">抽象艺术</h1>
            <p class="text-lg md:text-xl font-light mb-8 max-w-2xl mx-auto text-shadow">用创意视角发现世界的另一种美</p>
            <a href="#gallery" class="inline-block px-8 py-3 border border-white text-white hover:bg-white hover:text-primary transition-all duration-300 rounded-sm">浏览作品</a>
          </div>
        </div>
      </div>
      
      <!-- Carousel Controls -->
      <div class="absolute bottom-10 left-0 right-0 flex justify-center space-x-3 z-10">
        <button class="carousel-dot w-3 h-3 rounded-full bg-white opacity-50 hover:opacity-100 transition-opacity duration-300 active"></button>
        <button class="carousel-dot w-3 h-3 rounded-full bg-white opacity-50 hover:opacity-100 transition-opacity duration-300"></button>
        <button class="carousel-dot w-3 h-3 rounded-full bg-white opacity-50 hover:opacity-100 transition-opacity duration-300"></button>
        <button class="carousel-dot w-3 h-3 rounded-full bg-white opacity-50 hover:opacity-100 transition-opacity duration-300"></button>
        <button class="carousel-dot w-3 h-3 rounded-full bg-white opacity-50 hover:opacity-100 transition-opacity duration-300"></button>
      </div>
      
      <!-- Carousel Navigation -->
      <button class="absolute left-5 top-1/2 transform -translate-y-1/2 text-white text-3xl z-10 hover:scale-110 transition-transform duration-300" id="prev-btn">
        <i class="fa fa-angle-left"></i>
      </button>
      <button class="absolute right-5 top-1/2 transform -translate-y-1/2 text-white text-3xl z-10 hover:scale-110 transition-transform duration-300" id="next-btn">
        <i class="fa fa-angle-right"></i>
      </button>
    </div>
  </section>

  <!-- Gallery Section -->
  <section id="gallery" class="py-20 bg-light">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="text-3xl md:text-4xl font-light mb-4">摄影作品</h2>
        <div class="w-20 h-px bg-primary mx-auto"></div>
        <p class="mt-6 text-secondary max-w-2xl mx-auto">探索自然的美丽与多样性，每一张照片都是对大自然的致敬</p>
      </div>
      
      <!-- Category Filters -->
      <div class="flex flex-wrap justify-center gap-4 md:gap-8 mb-12">
        <button class="category-btn active px-4 py-2 text-lg font-light" data-category="all">全部</button>
        <button class="category-btn px-4 py-2 text-lg font-light" data-category="人文">人文</button>
        <button class="category-btn px-4 py-2 text-lg font-light" data-category="城市">城市</button>
        <button class="category-btn px-4 py-2 text-lg font-light" data-category="山">山脉</button>
        <button class="category-btn px-4 py-2 text-lg font-light" data-category="抽象">抽象</button>
        <button class="category-btn px-4 py-2 text-lg font-light" data-category="海">海洋</button>
      </div>
      
      <!-- Gallery Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
        <!-- 人文 -->
        <div class="gallery-item group" data-category="人文" data-id="1">
          <img data-src="img/人文_01.jpg" alt="人文风光" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">藏地烟火</h3>
            <p class="text-white opacity-80 font-light">古巷人潮，藏韵恒流</p>
          </div>
        </div>
        
        <div class="gallery-item group" data-category="人文" data-id="2">
          <img data-src="img/人文_02.jpg" alt="人文风光" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">信仰日常</h3>
            <p class="text-white opacity-80 font-light">僧俗共行，藏风永续</p>
          </div>
        </div>
        
        <div class="gallery-item group" data-category="人文" data-id="3">
          <img data-src="img/人文_03.jpg" alt="人文风光" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">树荫下的传承</h3>
            <p class="text-white opacity-80 font-light">老少同檐，藏俗绵长</p>
          </div>
        </div>
        
        <div class="gallery-item group" data-category="人文" data-id="4">
          <img data-src="img/人文_04.jpg" alt="人文风光" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">平安底色</h3>
            <p class="text-white opacity-80 font-light">警灯长明，藏区安澜</p>
          </div>
        </div>
        
        <!-- 城市 -->
        <div class="gallery-item group" data-category="城市" data-id="5">
          <img data-src="img/城市_01.jpg" alt="城市风光" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">霓虹迷宫</h3>
            <p class="text-white opacity-80 font-light">光海如织，思越藩篱</p>
          </div>
        </div>
        
        <div class="gallery-item group" data-category="城市" data-id="6">
          <img data-src="img/城市_02.jpg" alt="城市风光" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">棱线之诗</h3>
            <p class="text-white opacity-80 font-light">钢骨成网，思入混沌</p>
          </div>
        </div>
        
        <div class="gallery-item group" data-category="城市" data-id="7">
          <img data-src="img/城市_03.jpg" alt="城市风光" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">向上之惑</h3>
            <p class="text-white opacity-80 font-light">梯入虚空，思破维度</p>
          </div>
        </div>
        
        <div class="gallery-item group" data-category="城市" data-id="8">
          <img data-src="img/城市_04.jpg" alt="城市风光" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">窗月晤言</h3>
            <p class="text-white opacity-80 font-light">黄窗映月，思穿古今</p>
          </div>
        </div>
        
        <div class="gallery-item group" data-category="城市" data-id="9">
          <img data-src="img/城市_05.jpg" alt="城市风光" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">双林对弈</h3>
            <p class="text-white opacity-80 font-light">楼林代林，思定贪婪</p>
          </div>
        </div>
        
        <div class="gallery-item group" data-category="城市" data-id="10">
          <img data-src="img/城市_06.jpg" alt="城市风光" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">瓦巷棱镜</h3>
            <p class="text-white opacity-80 font-light">棋巷如谜，思越层叠</p>
          </div>
        </div>
        
        <!-- 山 -->
        <div class="gallery-item group" data-category="山" data-id="11">
          <img data-src="img/山_01.jpg" alt="山脉风光" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">8848之问</h3>
            <p class="text-white opacity-80 font-light">峰高 8848，思越丈量</p>
          </div>
        </div>
        
        <div class="gallery-item group" data-category="山" data-id="12">
          <img data-src="img/山_02.jpg" alt="山脉风光" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">鸟</h3>
            <p class="text-white opacity-80 font-light">藏境叩问，小大相形</p>
          </div>
        </div>
        
        <div class="gallery-item group" data-category="山" data-id="13">
          <img data-src="img/山_03.jpg" alt="山脉风光" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">雾里观世</h3>
            <p class="text-white opacity-80 font-light">世如雾境，窥不破的迷局</p>
          </div>
        </div>
        
        <div class="gallery-item group" data-category="山" data-id="14">
          <img data-src="img/山_04.jpg" alt="山脉风光" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">苍穹孤翼</h3>
            <p class="text-white opacity-80 font-light">翼掠湖山，思越鸿蒙</p>
          </div>
        </div>
        
        <!-- 抽象 -->
        <div class="gallery-item group" data-category="抽象" data-id="15">
          <img data-src="img/抽象_01.JPG" alt="抽象摄影" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">意游</h3>
            <p class="text-white opacity-80 font-light">墨绿迷踪，意会超形</p>
          </div>
        </div>
        
        <div class="gallery-item group" data-category="抽象" data-id="16">
          <img data-src="img/抽象_02.jpg" alt="抽象摄影" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">红匣迷思</h3>
            <p class="text-white opacity-80 font-light">影向难辨，眼见非真</p>
          </div>
        </div>
        
        <div class="gallery-item group" data-category="抽象" data-id="17">
          <img data-src="img/抽象_03.jpg" alt="抽象摄影" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">禅荷虚境</h3>
            <p class="text-white opacity-80 font-light">荷影禅心，境幻意真</p>
          </div>
        </div>
        
        <div class="gallery-item group" data-category="抽象" data-id="18">
          <img data-src="img/抽象_04.jpg" alt="抽象摄影" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">时与能</h3>
            <p class="text-white opacity-80 font-light">质能裂隙，时虚景朦 </p>
          </div>
        </div>
        
        <div class="gallery-item group" data-category="抽象" data-id="19">
          <img data-src="img/抽象_05.jpg" alt="抽象摄影" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">棱境观世</h3>
            <p class="text-white opacity-80 font-light">换角观世，真亦难明</p>
          </div>
        </div>
        
        <!-- 海 -->
        <div class="gallery-item group" data-category="海" data-id="20">
          <img data-src="img/海_01.jpg" alt="海洋风光" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">潮声织网</h3>
            <p class="text-white opacity-80 font-light">人潮逐浪，思辨边界</p>
          </div>
        </div>
        
        <div class="gallery-item group" data-category="海" data-id="21">
          <img data-src="img/海_02.jpg" alt="海洋风光" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">日舟同途</h3>
            <p class="text-white opacity-80 font-light">舟行日下，思叩孤勇</p>
          </div>
        </div>
        
        <div class="gallery-item group" data-category="海" data-id="22">
          <img data-src="img/海_03.jpg" alt="海洋风光" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">浪痕成谜</h3>
            <p class="text-white opacity-80 font-light">艇过浪生，思破执念</p>
          </div>
        </div>
        
        <div class="gallery-item group" data-category="海" data-id="23">
          <img data-src="img/海_04.jpg" alt="海洋风光" class="w-full h-80 object-cover opacity-0 transition-opacity duration-500">
          <div class="item-info">
            <h3 class="text-white text-xl font-light">渔港默片</h3>
            <p class="text-white opacity-80 font-light">船城共老，思溯记忆</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section id="about" class="py-20 bg-white">
    <div class="container mx-auto px-4">
      <div class="max-w-3xl mx-auto">
        <div class="text-center mb-12">
          <h2 class="text-3xl md:text-4xl font-light mb-4">关于辣不死的堡</h2>
          <div class="w-20 h-px bg-primary mx-auto mb-8"></div>
          <!-- 圆形头像容器 -->
          <div class="w-32 h-32 md:w-40 md:h-40 rounded-full overflow-hidden mx-auto border-4 border-white shadow-lg mb-8">
            <img src="img/profile_picture.jpg" alt="作者头像" class="w-full h-full object-cover">
          </div>
        </div>
        
        <div class="prose prose-lg max-w-none">
          <p class="text-secondary mb-6">别人写作文靠妙笔生花，我写作文靠 “字数凑搭”—— 作为一名挣扎在作文及格线边缘的初中生，每次面对作文本都像面对一道无解的数学题，脑袋空空如也，笔尖重若千斤。那些堵在心里说不明白的情绪、藏在眼里想分享的画面，落在作文里总显得干巴巴，完全不是我想要的样子。</p>
          
          <p class="text-secondary mb-6">直到我拿起相机，才发现原来表达情绪不止 “写作文” 这一条路。摄影于我，就像给情绪找了个靠谱的 “树洞”，不用绞尽脑汁想成语、凑段落，只要按下快门，就能把山间的风、天边的云、街巷的烟火气都定格下来。这些光影里藏着我的开心、我的好奇。</p>
          
          <p class="text-secondary">我更热爱风光摄影，总爱追着日出日落跑，对着山川湖海拍。比起写作文时的抓耳挠腮，蹲在路边等一束合适的光线、爬上山顶拍一片辽阔的风景，是我最享受的moment。</p>
        </div>
      </div>
    </div>
  </section>
  <!-- Image Modal -->
  <div id="image-modal" class="modal">
    <img class="modal-content" id="modal-img">
    <div class="modal-info">
      <h3 id="modal-title" class="text-2xl font-light mb-2"></h3>
      <p id="modal-location" class="text-lg opacity-80 mb-4"></p>
      <div class="text-center text-sm opacity-70">
        <p><span id="modal-camera"></span></p>
      </div>
    </div>
  </div>

  <script>
    // 图片数据
    const imageData = [
      {
        id: 1,
        title: "藏地烟火",
        location: "古巷人潮，藏韵恒流",
        description: "黑白影调勾勒出藏地古巷的烟火日常，传统服饰与现代元素在石板路上交融。这是文化传承的鲜活写照，在党的民族政策滋养下，雪域风情既坚守根脉又吸纳新声，每一步足迹都是各民族文化共荣的生动注脚。"
      },
      {
        id: 2,
        title: "信仰日常",
        location: "僧俗共行，藏风永续",
        description: "绛红僧袍与市井衣装在街巷交织，是信仰与生活的自然相融。这片土地上，文化传承不是刻板的守旧，而是在日常烟火里的鲜活延续，彰显着民族文化在时代发展中蓬勃的生命力。"
      },
      {
        id: 3,
        title: "树荫下的传承",
        location: "老少同檐，藏俗绵长",
        description: "古树荫下，老辈的念珠与孩童的笑靥同框，绘就藏地代际传承的温情图景。从传统习俗到生活智慧，在这片土地上，文化的根脉通过日常的相处悄然延续，每一道身影都是民族精神的接力者。"
      },
      {
        id: 4,
        title: "平安底色",
        location: "警灯长明，藏区安澜",
        description: "警务车辆在街巷的静默伫立，是藏地平安建设的具象表达。它们以 “见警率” 筑起安全屏障，践行着守护民生的承诺，让安全感在雪域百姓身边落地生根，是新时代藏区稳定发展的硬核保障。"
      },
      {
        id: 5,
        title: "霓虹迷宫",
        location: "光海如织，思越藩篱",
        description: "摩天楼的霓虹刺破夜幕，这是人类文明的璀璨图腾。但在光影的迷宫里，不妨大胆叩问：当我们沉迷于建筑的巍峨与灯光的绚烂，是否也在被文明的 “景观” 裹挟？这光与影的博弈，本就是对现代性的开放式诘问 —— 进步的狂喜与异化的隐忧，在同一片夜空下共生。"
      },
      {
        id: 6,
        title: "棱线之诗",
        location: "钢骨成网，思入混沌",
        description: "几何钢骨编织出极致的秩序，却在对称中藏着叛逆的留白。我以创作者的直觉撕开 “规则” 的茧：这建筑的棱线，何尝不是人类对 “确定性” 的执念？可当目光穿透结构的严谨，会发现混沌才是本质 —— 每一根线条的交汇，都是对 “唯一真理” 的解构，在秩序的牢笼里，思维本就该如脱缰野马。"
      },
      {
        id: 7,
        title: "向上之惑",
        location: "梯入虚空，思破维度",
        description: "扶梯指向的 “向上”，是空间的延伸，还是认知的囚笼？当建筑的几何强行定义 “方向”，不妨大胆叛逆：或许 “向上” 从不是唯一答案，在这黑白的维度游戏里，思维本可破壁 —— 所谓 “进步” 的阶梯，可能只是换个牢笼的入口，而真正的自由，藏在对 “维度” 的彻底怀疑里。"
      },
      {
        id: 8,
        title: "窗月晤言",
        location: "黄窗映月，思穿古今",
        description: "建筑的冷硬与月牙的温柔对峙，这是时间的具象化博弈。不必纠结 “窗” 与 “月” 的物理距离，不妨让思维私奔：黄窗里的灯火是人间的此刻，月牙的清辉是宇宙的永恒，而我们，不过是站在 “瞬间” 与 “永恒” 之间的流浪者，在建筑与天体的对话里，触摸存在的震颤。"
      },
      {
        id: 9,
        title: "双林对弈",
        location: "楼林代林，思定贪婪",
        description: "当钢筋 “森林” 取代了绿色森林，这是发展的棋局，还是生态的绝杀？不妨剥去所有伪装：是人类的贪婪无尽可能，还是动物的无可奈何？"
      },
      {
        id: 10,
        title: "瓦巷棱镜",
        location: "棋巷如谜，思越层叠",
        description: "红瓦织就的迷宫，在高维与低维的交界震颤。每一道巷陌的转折，都是认知的盲域 —— 有人困于其中，有人自恃清醒俯瞰。但当棱镜折射出多重镜像，不妨让思维悬停：所谓 “全貌” 与 “局部”，或许本就是同一枚硬币的两面，在维度的游戏里，谁又能真正站在迷局之外？"
      },
      {
        id: 11,
        title: "8848之问",
        location: "峰高 8848，思越丈量",
        description: "黑白雪峰刺破云间，8848 米的刻度既是地理的极限，也是认知的谜面。当人类以 “征服” 之名踏上其巅，不妨让思维在稀薄空气中悬浮：这数字是巅峰的勋章，还是傲慢的枷锁？在山的亘古沉默与人类的喧嚣执念间，每一缕云的流动，都是对 “丈量” 本质的开放式诘问 —— 或许真正的高度，从不在海拔的数字里。"
      },
      {
        id: 12,
        title: "鸟",
        location: "藏境叩问，小大相形",
        description: "定日雪域山峦间，黑白影调里雪山巍峨，飞鸟孤掠天地。此作以看似无主之境，叩问存在：人自视地球主角，却在天地山川与生命的对比中显渺小。定日地震曾撼大地，而山之永恒、鸟之自由，皆昭示自然叙事里生命平等，“主角” 执念终成渺小与伟大的辩证沉思。"
      },
      {
        id: 13,
        title: "雾里观世",
        location: "世如雾境，窥不破的迷局",
        description: "当我于迷惑时奔赴世界，却见雪域湖山尽笼朦胧。两人在水畔渺小伫立，远山如幻，湖水似谜 —— 这看不破的朦胧，恰是真正地讽刺：我们总以为行万里路能勘破迷局，却在自然的烟景里，发现世界本就如雾中花，越想看清，越显荒诞的迷朦。"
      },
      {
        id: 14,
        title: "苍穹孤翼",
        location: "翼掠湖山，思越鸿蒙",
        description: "飞鸟划破雪域湖山的静穆，在已知的山河轮廓里，投下未知的哲思剪影。这孤翼的轨迹，是对 “存在” 的叩问 —— 当我们凝视自然的宏大，却在那抹灵动的白影里，触碰到认知的边界。越捉摸，越觉鸿蒙未判，生命与天地的对话，本就藏在这说不清的朦胧与确定的真实之间。"
      },
      {
        id: 15,
        title: "意游",
        location: "墨绿迷踪，意会超形",
        description: "以虚焦为笔，在绿意中挥洒律动的抽象。拒绝对 “正确” 的执念 —— 让形骸在朦胧里消融，是为了让我和大家于意会中触摸超形的真意。不必困于答案的循环，这迷踪般的墨绿，本就是一场与心的私语，在说不清道不明处，见创作的本真。"
      },
      {
        id: 16,
        title: "红匣迷思",
        location: "影向难辨，眼见非真",
        description: "红匣之中，人影的朝向模糊难辨。眼见的 “朝向” 就一定为真吗？这剪影与红墙的对峙，是对 “真实“ 的解构 —— 当视觉被光影操纵，所谓 “真相“ 不过是认知的囚徒，在红与黑的边界，我们终会发现：眼见的具象，或许只是思维的虚妄镜像。"
      },
      {
        id: 17,
        title: "禅荷虚境",
        location: "荷影禅心，境幻意真",
        description: "墨绿荷浪间，粉荷似在流光中消融。虚焦的朦胧是禅意的留白，让荷的形态于不可捉摸处显本真 —— 正如禅语 “刹那即永恒“，这转瞬的模糊，恰是对存在的顿悟：美不必执着于具象，如荷在动与静的交织里，于虚无缥缈中锚定生命的禅意修行。"
      },
      {
        id: 18,
        title: "时与能",
        location: "质能裂隙，时虚景朦",
        description: "E:mc²，一个标点的偏移，恰似时间的裂隙。质能方程本是宇宙的硬核法则，而 “:“ 的介入，让它成为时间的隐喻 —— 能量与质量的转换，在虚焦的朦胧里，如时间般虚无缥缈、不可捉摸。这模糊的光影，是对时间本质的哲思：它既承载着物理的精确，又裹挟着存在的混沌，在清晰与朦胧的边界，我们窥见时间那既硬核又缥缈的双重面相。"
      },
      {
        id: 19,
        title: "棱境观世",
        location: "换角观世，真亦难明",
        description: "以几何棱线重构视角，本为破千篇一律的桎梏。但当我顿悟：换个视角真能看清世界吗？这黑白交织的建筑秘境，是对 “认知“ 的诘问 —— 每一次视角的跳转，不过是从一个迷局坠入另一个，世界的真相，或许本就藏在 “视角“ 与 “真实“ 的永恒博弈里。"
      },
      {
        id: 20,
        title: "潮声织网",
        location: "人潮逐浪，思辨边界",
        description: "人群在海滩与浪涛共舞，这是自由的狂欢，还是另一种规训？当 “逐浪” 成为集体行为，不妨追问：我们是在拥抱自然，还是在复制一种 “被允许的自由”？潮声织就的网里，思维要做的，是刺破 “从众狂欢” 的泡沫，看见自由与规训的暧昧边界。"
      },
      {
        id: 21,
        title: "日舟同途",
        location: "舟行日下，思叩孤勇",
        description: "孤舟在落日熔金里航行，这是个体与宇宙的对话。不必将其解读为 “孤独”，不妨升维思考：这舟是存在的隐喻，日是永恒的背景，而我们每个人，都是在浩瀚里寻找坐标的孤勇者。在宏大与渺小的张力中，思维当如舟楫，在存在的深海里，划出自己的航线。"
      },
      {
        id: 22,
        title: "浪痕成谜",
        location: "艇过浪生，思破执念",
        description: "快艇在海面留下炫目的轨迹，转瞬便被浪涛抹平。这是对 “成就” 的绝妙讽刺：我们执着于留下 “痕迹”，却忘了所有轨迹都是暂时的虚妄。在浪与艇的博弈里，思维要学会的，是放下对 “永恒印记” 的执念，在瞬间的绚烂里，触摸存在的本真。"
      },
      {
        id: 23,
        title: "渔港默片",
        location: "船城共老，思溯记忆",
        description: "黑白影调里的渔港如默片，船与城在时光里褪色。但这 “褪色” 从不是终结，不妨让思维潜入胶片：每一道斑驳的船痕，每一栋老旧的建筑，都是时间的记忆碎片。在黑白的静默中，我们不是在凝视 “过去”，而是在打捞那些被快节奏时代遗忘的，关于 “坚守” 与 “变迁” 的深层对话。"
      }
    ];

    // 直接显示主内容并异步加载图片
    function initImagePreloading() {
      // 立即显示主内容，不等待图片加载完成
      showMainContent();
      
      // 异步预加载图片，但不阻塞界面显示
      const lazyImages = document.querySelectorAll('img[data-src]');
      
      lazyImages.forEach(img => {
        const tempImg = new Image();
        const src = img.getAttribute('data-src');
        
        if (!src) {
          return;
        }
        
        tempImg.onload = () => {
          img.src = src;
          img.classList.add('loaded');
        };
        
        tempImg.onerror = () => {
          console.warn(`图片加载失败: ${src}`);
        };
        
        tempImg.src = src;
      });
    }
    
    function showMainContent() {
      const loadingScreen = document.getElementById('loading-screen');
      const mainContent = document.getElementById('main-content');
      
      if (!loadingScreen || !mainContent) {
        console.error('Loading screen or main content element not found.');
        return;
      }
      
      // 短暂延迟后移除加载屏幕并显示主内容
      setTimeout(() => {
        loadingScreen.style.opacity = '0';
        setTimeout(() => {
          loadingScreen.style.display = 'none';
          mainContent.style.display = 'block';
          
          // 显示内容后初始化GSAP动画
          if (typeof initGSAPAnimations === 'function') {
            initGSAPAnimations();
          }
        }, 500);
      }, 800); // 短暂延迟，给用户一个加载提示
    }

    // DOM元素 (在事件回调前定义，避免可能的引用问题)
    let loader, customCursor, header, menuBtn, closeMenuBtn, mobileMenu, overlay, mobileNavLinks, carouselItems, carouselDots, prevBtn, nextBtn, categoryBtns, galleryItems, modal, modalImg, modalTitle, modalLocation, modalCamera, closeBtn, themeToggle, mobileThemeToggle;

    // 页面加载完成后执行
    window.addEventListener('DOMContentLoaded', () => {
      // 获取所有DOM元素
      loader = document.querySelector('.loader');
      customCursor = document.querySelector('.custom-cursor');
      header = document.getElementById('header');
      menuBtn = document.getElementById('menu-btn');
      closeMenuBtn = document.getElementById('close-menu');
      mobileMenu = document.querySelector('.mobile-menu');
      overlay = document.getElementById('overlay');
      mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
      carouselItems = document.querySelectorAll('.carousel-item');
      carouselDots = document.querySelectorAll('.carousel-dot');
      prevBtn = document.getElementById('prev-btn');
      nextBtn = document.getElementById('next-btn');
      categoryBtns = document.querySelectorAll('.category-btn');
      galleryItems = document.querySelectorAll('.gallery-item');
      modal = document.getElementById('image-modal');
      modalImg = document.getElementById('modal-img');
      modalTitle = document.getElementById('modal-title');
      modalLocation = document.getElementById('modal-location');
      modalCamera = document.getElementById('modal-camera');
      closeBtn = document.querySelector('.close');
      themeToggle = document.getElementById('theme-toggle');
      mobileThemeToggle = document.getElementById('mobile-theme-toggle');

      // 初始化主题
      initTheme();
      
      // 显示页面
      setTimeout(() => {
        if(loader) loader.classList.add('hidden');
      }, 1000);
      
      // 初始化轮播
      initCarousel();
      
      // 初始化自定义鼠标
      initCustomCursor();
      
      // 初始化滚动效果
      initScrollEffects();
      
      // 初始化移动端菜单
      initMobileMenu();
      
      // 初始化分类筛选
      initCategoryFilter();
      
      // 初始化图片模态框
      initImageModal();
      
      // 初始化图片预加载
      initImagePreloading();

      // 初始化主题切换
      initThemeToggle();
    });
    
    // 初始化主题
    function initTheme() {
      const savedTheme = localStorage.getItem('theme');
      
      let isDark;
      if (savedTheme) {
        isDark = savedTheme === 'dark';
      } else {
        isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      }
      
      document.documentElement.classList.toggle('dark', isDark);
      
      updateThemeIcon(isDark);
      
      updateHeaderStyle();
    }
    
    // 初始化主题切换
    function initThemeToggle() {
      if(themeToggle) themeToggle.addEventListener('click', toggleTheme);
      
      if(mobileThemeToggle) mobileThemeToggle.addEventListener('click', () => {
        toggleTheme();
        mobileMenu.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = '';
      });
    }
    
    // 切换主题
    function toggleTheme() {
      const isDark = document.documentElement.classList.toggle('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
      updateThemeIcon(isDark);
      
      updateHeaderStyle();
      
      document.body.offsetHeight;
    }
    
    // 更新主题图标
    function updateThemeIcon(isDark) {
      if(!themeToggle || !mobileThemeToggle) return;
      
      const icon = isDark ? 'fa-sun-o' : 'fa-moon-o';
      const oppositeIcon = isDark ? 'fa-moon-o' : 'fa-sun-o';
      
      const desktopIcon = themeToggle.querySelector('i');
      if(desktopIcon) {
        desktopIcon.classList.remove(oppositeIcon);
        desktopIcon.classList.add(icon);
      }
      
      const mobileIcon = mobileThemeToggle.querySelector('i');
      if(mobileIcon) {
        mobileIcon.classList.remove(oppositeIcon);
        mobileIcon.classList.add(icon);
      }
      
      const siteLogo = document.getElementById('site-logo');
      if (siteLogo) {
        siteLogo.src = isDark ? siteLogo.getAttribute('data-dark-src') : siteLogo.getAttribute('data-light-src');
      }
    }

    // 初始化轮播
    function initCarousel() {
      if(!carouselItems.length || !carouselDots.length) return;
      
      let currentIndex = 0;
      const totalItems = carouselItems.length;
      
      carouselItems.forEach((item, index) => {
        if (index !== currentIndex) {
          item.style.opacity = '0';
        }
      });
      
      let autoplayInterval = setInterval(nextSlide, 5000);
      
      function nextSlide() {
        currentIndex = (currentIndex + 1) % totalItems;
        updateCarousel();
      }
      
      function prevSlide() {
        currentIndex = (currentIndex - 1 + totalItems) % totalItems;
        updateCarousel();
      }
      
      function updateCarousel() {
        carouselItems.forEach((item, index) => {
          if (index === currentIndex) {
            item.classList.add('active');
            item.style.opacity = '1';
          } else {
            item.classList.remove('active');
            item.style.opacity = '0';
          }
        });
        
        carouselDots.forEach((dot, index) => {
          if (index === currentIndex) {
            dot.classList.add('active');
            dot.style.opacity = '1';
          } else {
            dot.classList.remove('active');
            dot.style.opacity = '0.5';
          }
        });
      }
      
      if(nextBtn) nextBtn.addEventListener('click', () => {
        clearInterval(autoplayInterval);
        nextSlide();
        autoplayInterval = setInterval(nextSlide, 5000);
      });
      
      if(prevBtn) prevBtn.addEventListener('click', () => {
        clearInterval(autoplayInterval);
        prevSlide();
        autoplayInterval = setInterval(nextSlide, 5000);
      });
      
      carouselDots.forEach((dot, index) => {
        dot.addEventListener('click', () => {
          clearInterval(autoplayInterval);
          currentIndex = index;
          updateCarousel();
          autoplayInterval = setInterval(nextSlide, 5000);
        });
      });
    }

    // 初始化自定义鼠标
    function initCustomCursor() {
      if(!customCursor) return;
      
      document.addEventListener('mousemove', (e) => {
        customCursor.style.left = `${e.clientX}px`;
        customCursor.style.top = `${e.clientY}px`;
      });
      
      const interactiveElements = document.querySelectorAll('a, button, .gallery-item');
      interactiveElements.forEach(element => {
        element.addEventListener('mouseenter', () => {
          customCursor.classList.add('hover');
        });
        
        element.addEventListener('mouseleave', () => {
          customCursor.classList.remove('hover');
        });
      });
    }

    // 初始化滚动效果
    function initScrollEffects() {
      window.addEventListener('scroll', () => {
        updateHeaderStyle();
      });
    }
    
    // 更新导航栏样式
    function updateHeaderStyle() {
      if(!header) return;
      
      const isDark = document.documentElement.classList.contains('dark');
      const siteTitle = document.getElementById('site-title');
      const themeToggleIcon = document.querySelector('#theme-toggle i');
      const menuBtnIcon = document.querySelector('#menu-btn i');
      
      header.classList.remove('bg-white', 'bg-dark', 'bg-transparent');
      
      if (window.scrollY > 50) {
        header.classList.add('shadow-md');
        
        if (isDark) {
          header.classList.add('bg-dark');
          
          if(siteTitle) {
            siteTitle.classList.remove('text-primary');
            siteTitle.classList.add('text-white');
          }
          
          if(themeToggleIcon) {
            themeToggleIcon.classList.remove('text-primary');
            themeToggleIcon.classList.add('text-white');
          }
          if(menuBtnIcon) {
            menuBtnIcon.classList.remove('text-primary');
            menuBtnIcon.classList.add('text-white');
          }
        } else {
          header.classList.add('bg-white');
          
          if(siteTitle) {
            siteTitle.classList.remove('text-white');
            siteTitle.classList.add('text-primary');
          }
          
          if(themeToggleIcon) {
            themeToggleIcon.classList.remove('text-white');
            themeToggleIcon.classList.add('text-primary');
          }
          if(menuBtnIcon) {
            menuBtnIcon.classList.remove('text-white');
            menuBtnIcon.classList.add('text-primary');
          }
        }
        
        const navLinks = document.querySelectorAll('.nav-link');
        navLinks.forEach(link => {
          link.classList.remove('text-white', 'text-light', 'text-primary', 'text-shadow');
          
          if (isDark) {
            link.classList.add('text-light');
            updateNavLinkUnderlineColor('#f5f5f5');
          } else {
            link.classList.add('text-primary');
            updateNavLinkUnderlineColor('#333');
          }
        });
      } else {
        header.classList.remove('shadow-md');
        
        const navLinks = document.querySelectorAll('.nav-link');
        navLinks.forEach(link => {
          link.classList.remove('text-light', 'text-primary');
          link.classList.add('text-white', 'text-shadow');
        });
        
        if(siteTitle) {
          siteTitle.classList.remove('text-primary');
          siteTitle.classList.add('text-white');
        }
        
        if(themeToggleIcon) {
          themeToggleIcon.classList.remove('text-white');
          themeToggleIcon.classList.add('text-white');
        }
        if(menuBtnIcon) {
          menuBtnIcon.classList.remove('text-white');
          menuBtnIcon.classList.add('text-white');
        }
        
        updateNavLinkUnderlineColor('white');
      }
    }
    
    // 更新导航链接下划线颜色
    function updateNavLinkUnderlineColor(color) {
      const styleElements = document.querySelectorAll('style[data-nav-underline]');
      styleElements.forEach(el => el.remove());
      
      const style = document.createElement('style');
      style.setAttribute('data-nav-underline', 'true');
      style.textContent = `
        .nav-link::after {
          background-color: ${color};
        }
      `;
      document.head.appendChild(style);
    }

    // 初始化移动端菜单
    function initMobileMenu() {
      if(menuBtn) menuBtn.addEventListener('click', () => {
        mobileMenu.classList.add('active');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
      });
      
      if(closeMenuBtn) closeMenuBtn.addEventListener('click', () => {
        mobileMenu.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = '';
      });
      
      if(overlay) overlay.addEventListener('click', () => {
        mobileMenu.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = '';
      });
      
      mobileNavLinks.forEach(link => {
        link.addEventListener('click', () => {
          mobileMenu.classList.remove('active');
          overlay.classList.remove('active');
          document.body.style.overflow = '';
        });
      });
    }

    // 初始化分类筛选
    function initCategoryFilter() {
      categoryBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          categoryBtns.forEach(b => b.classList.remove('active'));
          
          btn.classList.add('active');
          
          const category = btn.getAttribute('data-category');
          
          // 修复：重新计算当前分类中的图片数组
          let currentCategoryItems = [];
          galleryItems.forEach(item => {
            if (category === 'all' || item.getAttribute('data-category') === category) {
              currentCategoryItems.push(item);
            }
          });
          
          galleryItems.forEach(item => {
            if (category === 'all' || item.getAttribute('data-category') === category) {
              item.style.display = 'block';
              
              setTimeout(() => {
                item.style.opacity = '1';
                item.style.transform = 'translateY(0)';
              }, 50);
            } else {
              item.style.opacity = '0';
              item.style.transform = 'translateY(20px)';
              
              setTimeout(() => {
                item.style.display = 'none';
              }, 300);
            }
          });
          
          // 重新初始化GSAP动画，使用当前分类中的图片
          if (window.gsap && window.ScrollTrigger) {
            initGSAPAnimations(currentCategoryItems);
          }
        });
      });
    }

    // 初始化图片模态框
    function initImageModal() {
      galleryItems.forEach(item => {
        item.addEventListener('click', () => {
          const imgElement = item.querySelector('img');
          if(!imgElement) return;
          
          const imgSrc = imgElement.src;
          const imgId = parseInt(item.getAttribute('data-id'));
          const imgInfo = imageData.find(data => data.id === imgId);
          
          if(!imgInfo) return;
          
          modalImg.src = imgSrc;
          modalTitle.textContent = imgInfo.title;
          modalLocation.textContent = imgInfo.location;
          modalCamera.textContent = imgInfo.description;
          
          // 检查是否是山脉全景图(id=11)或意游图片(id=15)
          if (imgId === 11) {
            modal.classList.add('mountain-panorama');
            modal.classList.remove('reverse-layout');
          } else if (imgId === 15) {
            // 意游图片 - 反转左右顺序
            modal.classList.add('reverse-layout');
            modal.classList.remove('mountain-panorama');
          } else {
            modal.classList.remove('mountain-panorama');
            modal.classList.remove('reverse-layout');
          }
          
          modal.classList.add('show');
          document.body.style.overflow = 'hidden';
          
          if(customCursor) customCursor.style.display = 'none';
        });
      });
      
      if(closeBtn) closeBtn.addEventListener('click', closeImageModal);
      
      if(modal) modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          closeImageModal();
        }
      });
      
      document.addEventListener('keydown', (e) => {
        if (modal.classList.contains('show')) {
          if (e.key === 'Escape') {
            closeImageModal();
          }
          
          if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {
            const currentImg = modalImg.src;
            let currentIndex = -1;
            
            // 获取当前可见的图片项目（基于当前分类）
            const visibleItems = Array.from(galleryItems).filter(item => {
              return item.style.display !== 'none';
            });
            
            visibleItems.forEach((item, index) => {
              const itemImg = item.querySelector('img');
              if (itemImg && itemImg.src === currentImg) {
                currentIndex = index;
              }
            });
            
            if(currentIndex === -1) return;
            
            let newIndex;
            if (e.key === 'ArrowRight') {
              newIndex = (currentIndex + 1) % visibleItems.length;
            } else {
              newIndex = (currentIndex - 1 + visibleItems.length) % visibleItems.length;
            }
            
            const newItem = visibleItems[newIndex];
            const newItemImg = newItem.querySelector('img');
            if(!newItemImg) return;
            
            const newImgSrc = newItemImg.src;
            const newImgId = parseInt(newItem.getAttribute('data-id'));
            const newImgInfo = imageData.find(data => data.id === newImgId);
            
            if(!newImgInfo) return;
            
            modalImg.src = newImgSrc;
            modalTitle.textContent = newImgInfo.title;
            modalLocation.textContent = newImgInfo.location;
            modalCamera.textContent = newImgInfo.description;
          }
        }
      });
    }
    
    // 关闭图片模态框 - 添加动画效果
    function closeImageModal() {
      modal.classList.add('fade-out');
      setTimeout(() => {
        modal.classList.remove('show', 'fade-out');
        document.body.style.overflow = '';
        
        if(customCursor) customCursor.style.display = 'block';
      }, 300);
    }

    // 初始化GSAP动画 - 修复版本，支持分类特定动画
    function initGSAPAnimations(categoryItems = null) {
      if (!window.gsap || !window.ScrollTrigger) {
        console.error('GSAP or ScrollTrigger not loaded.');
        return;
      }
      
      gsap.registerPlugin(ScrollTrigger);
      
      // 如果提供了特定分类的项目，使用这些项目，否则使用所有项目
      const itemsToAnimate = categoryItems || Array.from(galleryItems);
      
      // 清除之前的动画
      gsap.utils.toArray('.gallery-item').forEach(item => {
        ScrollTrigger.getScrollTrigger(item) && ScrollTrigger.getScrollTrigger(item).kill();
      });
      
      // 为当前分类中的项目添加动画
      itemsToAnimate.forEach((item, i) => {
        if (item.style.display !== 'none') { // 只对可见项目添加动画
          gsap.fromTo(item, 
            { 
              y: 30,
              opacity: 0,
              duration: 0.6,
              ease: 'back.out(1.7)',
              scrollTrigger: {
                trigger: item,
                start: 'top bottom-=100',
                toggleActions: 'play none none reverse',
                once: false,
                invalidateOnRefresh: true,
                onRefresh: () => {
                  gsap.set(item, { y: 30, opacity: 0 });
                }
              },
              delay: i * 0.05,
              force3D: true,
              willChange: 'transform, opacity'
            },
            {
              y: 0,
              opacity: 1,
              duration: 0.6,
              ease: 'back.out(1.7)',
              scrollTrigger: {
                trigger: item,
                start: 'top bottom-=100',
                toggleActions: 'play none none reverse',
                once: false,
                invalidateOnRefresh: true,
                onRefresh: () => {
                  gsap.set(item, { y: 30, opacity: 0 });
                }
              }
            }
          );
        }
      });
      
      gsap.from('#about h2', {
        y: 30,
        opacity: 0,
        duration: 0.8,
        ease: 'power2.out',
        scrollTrigger: {
          trigger: '#about',
          start: 'top bottom-=100'
        }
      });
      
      gsap.from('#about .w-20', {
        width: 0,
        duration: 0.8,
        ease: 'power2.out',
        scrollTrigger: {
          trigger: '#about',
          start: 'top bottom-=100'
        },
        delay: 0.3
      });
      
      const aboutParagraphs = document.querySelectorAll('#about p');
      aboutParagraphs.forEach((p, i) => {
        gsap.from(p, {
          y: 20,
          opacity: 0,
          duration: 0.8,
          ease: 'power2.out',
          scrollTrigger: {
            trigger: '#about',
            start: 'top bottom-=100'
          },
          delay: 0.6 + (i * 0.2),
          onComplete: () => {
            p.style.opacity = '1';
            p.style.visibility = 'visible';
          }
        });
      });
    }
  </script>
</div> <!-- 结束主内容区域 -->
  </body>
</html>



